# Стандартный файл `general.yml` (3.0.0-RC1)

```yml
# ┌────────────────────────────────
# │ Общие настройки BaronessAuth.
# │ 
# │ Сюда попадают только небольшие настройки, которые некуда направить.
# │ Большая часть настроек находится в других файлах.
# └────────────────────────────────

# ----------------------------------------------------------------------

# ┌────────────────────────────────
# │ Настройки подключения к базе данных.
# └────────────────────────────────
database:
  # ┌────────────────────────────────
  # │ Тип базы данных для подключения.
  # │ Можно указать:
  # │   H2           работает без настроек, данные хранятся в папке
  # │   SQLite       работает без настроек, данные хранятся в папке (не рекомендуется)
  # │   HSQLDB       работает без настроек, данные хранятся в папке (не рекомендуется)
  # │   MySQL        требует настроек подключения
  # │   MariaDB      требует настроек подключения (лучше, чем MySQL)
  # │   PostgreSQL   требует настроек подключения
  # └────────────────────────────────
  type: 'H2'

  # Адрес (IP).
  address: 'localhost'

  # Порт. Плагин знает стандартные - укажите 0, чтобы он подставил нужный сам.
  port: 0

  # Имя базы данных.
  database: 'mydatabase'

  # Пользователь.
  username: 'user'

  # Пароль.
  password: 'password'

# ┌────────────────────────────────
# │ Настройки серверов.
# └────────────────────────────────
servers:
  # ┌────────────────────────────────
  # │ Сервера, на которых игрок будет находиться, пока ещё не авторизовался.
  # │
  # │ Если вы используете формат вида domain.com:server_name,
  # │ игроки с domain.com всегда будут подключаться к этим серверам.
  # │
  # │ Если серверов указано несколько, плагин будет отправлять на тот, у которого наименьший онлайн.
  # │ Чтобы это работало, включите у них server.properties -> enable-status=true
  # └────────────────────────────────
  auth:
  - 'auth'

  # ┌────────────────────────────────
  # │ Сервера, на которые игрок будет отправляться после успешной авторизации.
  # │
  # │ Если вы используете формат вида domain.com:server_name,
  # │ игроки с domain.com всегда будут подключаться к этим серверам.
  # │
  # │ Если серверов указано несколько, плагин будет отправлять на тот, у которого наименьший онлайн.
  # │ Чтобы это работало, включите у них server.properties -> enable-status=true
  # └────────────────────────────────
  lobby:
  - 'lobby'

  # ┌────────────────────────────────
  # │ Сервера, для доступа к которым игрок ОБЯЗАН иметь какую-либо привязку.
  # │
  # │ Вы НЕ должны вписывать сюда auth/lobby сервера.
  # │ Только обычные, куда игрока направляют другие плагины.
  # └────────────────────────────────
  require-link:
    list:
    - 'super-duper-secure-server'
    message: '<red>Вы должны иметь привязку, чтобы войти на этот сервер - /link.'
    bypass-permission:
      enabled: false
      value: 'BaronessAuth.bypass.require_link'

  # ┌────────────────────────────────
  # │ Автоматическое создание лимбо-серверов.
  # │ Такие сервера представляют собой минималистичный сервер с поддержкой версий от 1.9 до 1.21.8.
  # │ 
  # │ Вы можете создавать сколько угодно серверов, каждый должен иметь название (для регистрации в BungeeCord).
  # │ Если имя уже занято, плагин просто пропустит создание - так что необязательно удалять отсюда стандартные.
  # │ 
  # │ Каждый такой сервер, если запущен, потребляет от 500 до 1000 МБ ОЗУ.
  # │ Если вам нужно экономить память и не нужна схематика, разверните вместо этого сервер-пустышку:
  # │ https://github.com/BoomEaro/NanoLimbo/tree/feature/1.21.2 (это для всех версий, не 1.21.2)
  # │ 
  # │ Пользуясь этой функцией, вы соглашаетесь с EULA (https://aka.ms/MinecraftEULA).
  # │ [!] Любые изменения настроек в этой секции требуют полной перезагрузки BungeeCord!
  # └────────────────────────────────
  embedded-servers:
    'auth':
      # Если указан порт 0, плагин автоматически выберет свободный - менять необязательно.
      port: 0
      # Сколько максимально памяти может потреблять сервер?
      # Если указать слишком мало, сервер крашнется - BaronessAuth восстановит его, но этого лучше избегать.
      max-ram: '1 GB'
      # Вы можете установить свою схематику:
      # 1. Выделите область через WorldEdit.
      # 2. Введите //copy, стоя на месте спавна игрока.
      # 3. Используйте //rotate и //paste, чтобы развернуть схематику правильно - игрок всегда будет спавниться лицом на север.
      # 4. Введите //schem save, полученный файл переложите в BaronessAuth/.
      # 5. Введите сюда название этого файла.
      # В плагине есть встроенные схематики - default-auth.schem и default-lobby.schem.
      schematic: 'default-auth.schem'
      # Статичное время на сервере, значения: https://minecraft.fandom.com/wiki/Daylight_cycle#24-hour_Minecraft_day
      # Установите -1, чтобы оно не было статичным (будет ванильный цикл дня и ночи).
      time: 12040
      # Включить/выключить погоду.
      # Если погода выключена, всегда будет ясное небо.
      weather: true

# ┌────────────────────────────────
# │ Настройки автоматических дампов (бекапов).
# │ Важнейшая функция, позволяющая автоматически создавать полные бекапы всех данных.
# │ Созданные файлы лежат в папке BaronessAuth/dump.
# │ BaronessAuth создаёт дампы крайне эффективно - 100.000 регистраций занимают всего ~6 мб!
# │ 
# │ Дампы можно восстановить в любой момент, в любую подключенную базу данных,
# │ используя /baronessauth dump load.
# └────────────────────────────────
automatic-dumps:
  enabled: true
  interval: '1 ч'

# ┌────────────────────────────────
# │ Настройки напоминания о привязке.
# │ Если игрок не привязан, плагин напомнит ему о важности этого после успешного входа.
# │ Эта функция сама выключается, если у вас нет сервисов привязки.
# └────────────────────────────────
link-reminder:
  enabled: true
  delay: '3 сек'
  message: |-
    <hover:show_text:'<yellow>Правильно, сюда!'><click:run_command:'/link'><color:#ffaa3b>⚠️ <u>Ваш аккаунт уязвим!</u></color>
    <color:#ff9b69>Привяжите его, чтобы избежать взлома!
    Нажмите <u>сюда</u> для просмотра вариантов (/link).</color></click></hover>

# ┌────────────────────────────────
# │ Общие логи, позволяющие отследить действия игроков.
# │ Они сохраняются в отдельные файлы, в папке BaronessAuth/logs
# |
# │ Когда размер файла достигает compression-threshold, создаётся его копия в архиве .xz, чтобы экономить место.
# │ Рекомендую использовать https://www.7-zip.org/ для открытия этого архива.
# └────────────────────────────────
general-logs:
  # Логи о регистрации игроков (BaronessAuth/logs/registrations.txt)
  registrations:
    print-to-file: true
    print-to-console: true
    compression-threshold: '50 MB'
  # Логи о логине игроков (BaronessAuth/logs/logins.txt)
  logins:
    print-to-file: true
    print-to-console: true
    compression-threshold: '50 MB'
  # Логи о смене пароля любым способом (BaronessAuth/logs/password_changes.txt)
  password-changes:
    print-to-file: true
    print-to-console: true
    compression-threshold: '50 MB'
```